<?php
// Conectar ao banco de dados
$pdo = new PDO('mysql:host=localhost;dbname=seu_banco', 'usuario', 'senha');

// Verificar se o formulário foi enviado
if ($_SERVER['REQUEST_METHOD'] == 'POST') {
    $username = $_POST['username'];
    $email = $_POST['email'];
    $password = password_hash($_POST['password'], PASSWORD_DEFAULT);  // Criptografar a senha

    // Verificar se o nome de usuário já existe
    $stmt = $pdo->prepare("SELECT * FROM users WHERE username = ?");
    $stmt->execute([$username]);
    if ($stmt->fetch()) {
        echo "Nome de usuário já está em uso.";
        exit;
    }

    // Inserir o novo usuário
    $stmt = $pdo->prepare("INSERT INTO users (username, password, email) VALUES (?, ?, ?)");
    $stmt->execute([$username, $password, $email]);

    echo "Conta criada com sucesso! <a href='login.php'>Clique aqui para fazer login</a>";
}
?>

<form method="POST">
    <input type="text" name="username" placeholder="Nome de Usuário" required>
    <input type="email" name="email" placeholder="Email" required>
    <input type="password" name="password" placeholder="Senha" required>
    <button type="submit">Criar Conta</button>
</form>
